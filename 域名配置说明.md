# 域名配置说明

## 📝 配置步骤

### 1. 复制环境变量文件
```bash
cp .env.example .env
```

### 2. 修改域名配置
编辑 `.env` 文件：
```bash
# 修改为你的实际域名
WORKFLOW_DOMAIN=your-workflow-domain.com
KNOWLEDGE_DOMAIN=your-knowledge-domain.com
```

### 3. 更新 Nginx 配置
配置文件中使用了环境变量，需要通过模板生成最终配置：

```bash
# 方式1：使用 envsubst 生成配置
envsubst < shared-nginx/conf.d/bella-services.conf > shared-nginx/conf.d/bella-services-final.conf

# 方式2：手动替换占位符
# 将 ${WORKFLOW_DOMAIN:-workflow.example.com} 替换为你的实际域名
# 将 ${KNOWLEDGE_DOMAIN:-knowledge.example.com} 替换为你的实际域名
```

### 4. SSL 证书配置
如果使用 HTTPS，请参考 `SSL配置指南.md`

## 🔧 需要替换的域名位置

当前配置中的占位符：
- `${WORKFLOW_DOMAIN:-workflow.example.com}` → 你的 Workflow 域名
- `${KNOWLEDGE_DOMAIN:-knowledge.example.com}` → 你的 Knowledge 域名

## 📂 涉及的文件

1. **shared-nginx/conf.d/bella-services.conf** - Nginx 路由配置
2. **deploy-all-services.sh** - 部署脚本中的域名引用
3. **docker-compose.workflow.yml** - Workflow 服务的 API URL 配置

## ⚠️ 注意事项

- 部署前务必检查所有占位符是否已正确替换
- 确保 DNS 解析已正确配置
- 如使用 SSL，确保证书域名与配置的域名匹配